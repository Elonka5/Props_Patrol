"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[873],{2609:function(e,r,t){t.d(r,{z:function(){return a}});var n=t(184),a=function(e){var r=e.onClick,t=void 0===r?null:r,a=e.text,s=e.type,u=void 0===s?"button":s,i=e.variant,o=void 0===i?"primary":i;return(0,n.jsx)("button",{type:u,onClick:t,variant:o,children:a})}},152:function(e,r,t){t.d(r,{X:function(){return s}});var n=t(5705),a=t(184),s=function(e){var r=e.name;return(0,a.jsx)(n.Bc,{name:r,render:function(e){return(0,a.jsx)("p",{children:e})}})}},5007:function(e,r,t){t.d(r,{r:function(){return i}});var n=t(4942),a=t(1413),s=t(9439),u=t(2791);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=e.reduce((function(e,r){return e[r]=!1,e}),{}),t=(0,u.useState)(r),i=(0,s.Z)(t,2),o=i[0],c=i[1],p=function(e){c((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,n.Z)({},e,!r[e]))}))};return{showPasswords:o,togglePasswordVisibility:p}}},8873:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});t(2791);var n={loginform:"LoginForm_loginform__+X4Le"},a=t(9434),s=t(5705),u=t(8174),i=t(1087),o=t(2609),c=t(9599),p=t(5007),l=t(152),d=t(6727),f=d.Ry().shape({email:d.Z_().email("Please enter a valid email address").test("trim","The field must not start or end with spaces",(function(e){return!e||e.trim()===e})).required("required field").max(30,"the name must contain a maximum of 30 characters"),password:d.Z_().test("trim","The field must not start or end with spaces",(function(e){return!e||e.trim()===e})).required("required field").min(6,"Password must contain at least 6 characters").max(12,"Password must contain a maximum of 12 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d|.*[!@#$%^&*()_+\-=.<>])[a-zA-Z\d!@#$%^&*()_+\-=.<>]{6,12}$/,"Password must contain at least one uppercase letter, one lowercase letter and one number")}),h=t(184),m=function(){var e=(0,p.r)(["password1","password2"]),r=e.showPasswords,t=e.togglePasswordVisibility,d=(0,a.I0)();return(0,h.jsx)("div",{className:n.loginform,children:(0,h.jsx)(s.J9,{initialValues:{email:"",password:""},validationSchema:f,onSubmit:function(e,r){var t=r.resetForm;d((0,c.iW)(e)).unwrap().then((function(e){t(),u.Am.success("Well done  ".concat(e.user.username,"! You have signed in successfully."))})).catch((function(e){u.Am.error(e.message)}))},children:(0,h.jsxs)("form",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{div:!0,className:n.wrappericon,children:(0,h.jsx)("input",{type:"email",name:"email",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer",placeholder:"E-mail",autoComplete:"off",required:!0})}),(0,h.jsx)(s.Bc,{name:"email",component:l.X}),(0,h.jsxs)("div",{className:n.wrappericon3,children:[(0,h.jsx)("div",{className:n.wrappericon2,children:(0,h.jsx)("input",{type:r.password1?"text":"password",name:"password",title:"Enter the password more difficult, letter, digit, capital letter.",placeholder:"Password",autoComplete:"off",required:!0})}),(0,h.jsx)("togglePasswordIcon",{showPassword:r.password1,onToggle:function(){return t("password1")}})]}),(0,h.jsx)(s.Bc,{name:"password",component:l.X})]}),(0,h.jsx)(o.z,{type:"submit",text:"log in",children:(0,h.jsx)(i.rU,{to:"/registration",children:(0,h.jsx)(o.z,{text:"registration",variant:"secondary"})})})]})})})},v={},w=function(){return(0,h.jsx)("div",{className:v.logincontainer,children:(0,h.jsx)(m,{})})}},9599:function(e,r,t){t.d(r,{iW:function(){return h},rv:function(){return f}});var n=t(5861),a=t(4687),s=t.n(a),u=t(8690),i=t(1243).Z.create({baseURL:"https://wallet.goit.ua/api"}),o=function(e){i.defaults.headers.common.Authorization="Bearer ".concat(e)},c=function(){var e=(0,n.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/users/current");case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.post("/auth/sign-up",r);case 2:return t=e.sent,n=t.data,o(n.token),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.post("/auth/sign-in",r);case 2:return t=e.sent,n=t.data,o(n.token),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){i.delete("/auth/sign-out/"),i.defaults.headers.common.Authorization=""},f=(0,u.hg)("auth/signUp",function(){var e=(0,n.Z)(s().mark((function e(r,t){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,p(r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}()),h=(0,u.hg)("auth/logIn",function(){var e=(0,n.Z)(s().mark((function e(r,t){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,l(r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}());(0,u.hg)("auth/logOut",function(){var e=(0,n.Z)(s().mark((function e(r,t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,d();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",n(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r,t){return e.apply(this,arguments)}}()),(0,u.hg)("auth/refresh",function(){var e=(0,n.Z)(s().mark((function e(r,t){var n,a,u,i,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rejectWithValue,a=t.getState,u=a(),i=u.auth.token){e.next=5;break}return e.abrupt("return",n("Unable to fetch user."));case 5:return o(i),e.prev=6,e.next=9,c();case 9:return p=e.sent,e.abrupt("return",p);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",n(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(r,t){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=873.123760ce.chunk.js.map