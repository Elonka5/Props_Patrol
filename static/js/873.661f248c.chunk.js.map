{"version":3,"file":"static/js/873.661f248c.chunk.js","mappings":"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","sources":["components/Button/Button.jsx","components/FormError/FormError.jsx","hooks/usePasswordToggle.js","webpack://react-homework-template/./src/components/LoginForm/LoginForm.module.css?4ac5","services/validation/validationLoginSchema.js","components/LoginForm/LoginForm.jsx","pages/Login/Login.module.css","pages/Login/Login.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\n// import css from './Button.module.css';\n\nexport const Button = ({\n  onClick = null,\n  text,\n  type = 'button',\n  variant = 'primary',\n}) => {\n  return (\n    <button type={type} onClick={onClick} variant={variant}>\n      {text}\n    </button>\n  );\n};\nButton.propTypes = {\n  onClick: PropTypes.func,\n  text: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  variant: PropTypes.string,\n};\n","import { ErrorMessage } from 'formik';\nimport PropTypes from 'prop-types';\n\nexport const FormError = ({ name }) => {\n  return (\n    <ErrorMessage\n      name={name}\n      render={message => <p>{message}</p>}\n    ></ErrorMessage>\n  );\n};\n\nFormError.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n","import { useState } from 'react';\n\nexport function usePasswordToggle(fields = []) {\n  const initialState = fields.reduce((acc, field) => {\n    acc[field] = false;\n    return acc;\n  }, {});\n\n  const [showPasswords, setShowPasswords] = useState(initialState);\n\n  const togglePasswordVisibility = field => {\n    setShowPasswords(prevState => ({\n      ...prevState,\n      [field]: !prevState[field],\n    }));\n  };\n\n  return { showPasswords, togglePasswordVisibility };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loginform\":\"LoginForm_loginform__+X4Le\"};","import * as yup from 'yup';\n\nexport const loginSchema = yup.object().shape({\n  email: yup\n    .string()\n    .email('Please enter a valid email address')\n    .test('trim', 'The field must not start or end with spaces', value => {\n      if (value) {\n        return value.trim() === value;\n      }\n      return true;\n    })\n    .required('required field')\n    .max(30, 'the name must contain a maximum of 30 characters'),\n  password: yup\n    .string()\n    .test('trim', 'The field must not start or end with spaces', value => {\n      if (value) {\n        return value.trim() === value;\n      }\n      return true;\n    })\n    .required('required field')\n    .min(6, 'Password must contain at least 6 characters')\n    .max(12, 'Password must contain a maximum of 12 characters')\n    .matches(\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d|.*[!@#$%^&*()_+\\-=.<>])[a-zA-Z\\d!@#$%^&*()_+\\-=.<>]{6,12}$/,\n      'Password must contain at least one uppercase letter, one lowercase letter and one number'\n    ),\n});\n","import React from 'react';\nimport css from './LoginForm.module.css';\n\nimport { useDispatch } from 'react-redux';\nimport { ErrorMessage, Formik } from 'formik';\nimport { toast } from 'react-toastify';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'components/Button/Button';\nimport { logInThunk } from 'redux/authOperations';\nimport { usePasswordToggle } from 'hooks/usePasswordToggle';\nimport { FormError } from 'components/FormError/FormError';\nimport { loginSchema } from 'services/validation/validationLoginSchema';\n\nconst LoginForm = () => {\n  const { showPasswords, togglePasswordVisibility } = usePasswordToggle([\n    'password1',\n    'password2',\n  ]);\n  const dispatch = useDispatch();\n  const initialValues = {\n    email: '',\n    password: '',\n  };\n\n  const handleSubmit = (values, { resetForm }) => {\n    dispatch(logInThunk(values))\n      .unwrap()\n      .then(data => {\n        resetForm();\n        toast.success(\n          `Well done  ${data.user.username}! You have signed in successfully.`\n        );\n      })\n      .catch(error => {\n        toast.error(error.message);\n      });\n  };\n\n  return (\n    <div className={css.loginform}>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={loginSchema}\n        onSubmit={handleSubmit}\n      >\n        <form>\n          <div>\n            <div div className={css.wrappericon}>\n              <input\n                type=\"email\"\n                name=\"email\"\n                title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer\"\n                placeholder=\"E-mail\"\n                autoComplete=\"off\"\n                required\n              />\n            </div>\n            <ErrorMessage name=\"email\" component={FormError} />\n            <div className={css.wrappericon3}>\n              <div className={css.wrappericon2}>\n                <input\n                  type={showPasswords.password1 ? 'text' : 'password'}\n                  name=\"password\"\n                  title=\"Enter the password more difficult, letter, digit, capital letter.\"\n                  placeholder=\"Password\"\n                  autoComplete=\"off\"\n                  required\n                />\n              </div>\n              <togglePasswordIcon\n                showPassword={showPasswords.password1}\n                onToggle={() => togglePasswordVisibility('password1')}\n              />\n            </div>\n            <ErrorMessage name=\"password\" component={FormError} />\n          </div>\n          <Button type=\"submit\" text=\"log in\">\n            <Link to=\"/registration\">\n              <Button text=\"registration\" variant=\"secondary\" />\n            </Link>\n          </Button>\n        </form>\n      </Formik>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react';\nimport LoginForm from 'components/LoginForm/LoginForm';\nimport css from './Login.module.css';\n\nconst Login = () => {\n  return (\n    <div className={css.logincontainer}>\n      <LoginForm />\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["Button","onClick","text","type","variant","FormError","name","render","message","usePasswordToggle","fields","initialState","reduce","acc","field","useState","showPasswords","setShowPasswords","togglePasswordVisibility","prevState","loginSchema","yup","shape","email","test","value","trim","required","max","password","min","matches","dispatch","useDispatch","className","css","initialValues","validationSchema","onSubmit","values","resetForm","logInThunk","unwrap","then","data","toast","user","username","catch","error","div","title","placeholder","autoComplete","component","password1","showPassword","onToggle","to"],"sourceRoot":""}